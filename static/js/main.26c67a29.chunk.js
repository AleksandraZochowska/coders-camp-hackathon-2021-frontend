(this["webpackJsonpcoders-camp-hackathon-2021-frontend"]=this["webpackJsonpcoders-camp-hackathon-2021-frontend"]||[]).push([[0],{111:function(e,t,n){},168:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),s=n.n(c),o=(n(168),n(348)),i=n(34),u=(n(111),n(8)),l=n(1),d=Object(r.createContext)(),j=function(e){var t=e.children,n=Object(r.useState)(localStorage.getItem("token")||""),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(localStorage.getItem("profile")||null),i=Object(u.a)(o,2),j=i[0],m=i[1];return Object(l.jsx)(d.Provider,{value:{token:c,setNewToken:function(e){s(e),localStorage.setItem("token",e)},clearToken:function(){s(""),localStorage.removeItem("token")},profile:j,setNewProfile:function(e){m(e),localStorage.setItem("profile",JSON.stringify(e))},clearProfile:function(){m(null),localStorage.removeItem("profile")}},children:t})},m=n(152),h=Object(m.a)({palette:{primary:{light:"#a269f8",main:"#6e3bc4",dark:"#380992"},secondary:{light:"#c4f76d",main:"#91c43b",dark:"#5f9300"}}}),p=n(321),b=n(324),x=n(325),O=n(88),f=n(326),v=n(138),g=n.n(v),w=n(137),y=n.n(w),C=n(323),k=n(21),S=Object(p.a)((function(e){return{rootNav:{},titleNav:{flexGrow:1,marginLeft:"20px"},welcomeTitle:{marginRight:"20px"}}})),N=function(){var e=Object(r.useContext)(d),t=e.token,n=e.profile,a=e.clearToken,c=e.clearProfile,s=S(),o=Object(C.a)("(min-width:600px)"),i=Object(k.g)(),u=function(){i.push("/")};return Object(l.jsx)("div",{className:s.rootNav,children:Object(l.jsx)(b.a,{position:"static",children:Object(l.jsxs)(x.a,{children:[Object(l.jsx)(y.a,{onClick:u}),Object(l.jsx)(O.a,{className:s.titleNav,variant:"h6",onClick:u,children:"Questio"}),t&&Object(l.jsxs)(l.Fragment,{children:[n&&Object(l.jsx)(O.a,{variant:"h6",noWrap:!0,className:s.welcomeTitle,children:n.name}),Object(l.jsx)(f.a,{variant:"contained",color:"secondary",startIcon:Object(l.jsx)(g.a,{}),onClick:function(){c(),a(),i.push("/")},children:o&&"Log out"})]})]})})})},A=n(334),T=n(282),E=n(290),I=n(337),q=n(6),P=n.n(q),B=n(9),Q=n(332),F=n(333),R=n(16),U=n(31),_=n(292),z=n(283),G=n(284),J=function(e){var t=e.id,n=e.name,r=e.errors,a=e.onChange;return Object(l.jsxs)(T.a,{fullWidth:!0,children:[Object(l.jsx)(_.a,{htmlFor:t,children:"Email"}),Object(l.jsx)(z.a,{type:"email",error:!!r,id:t,name:n,onChange:a,"aria-describedby":"email-input-field"}),Object(l.jsx)(G.a,{id:"FormInputHelperText",children:r||""})]})},H=function(e){var t=e.id,n=e.errors,r=e.name,a=e.onChange;return Object(l.jsxs)(T.a,{fullWidth:!0,children:[Object(l.jsx)(_.a,{htmlFor:t,children:"Password"}),Object(l.jsx)(z.a,{type:"password",error:!!n,id:t,name:r,onChange:a,"aria-describedby":"password-input-field"}),Object(l.jsx)(G.a,{id:"FormInputHelperText",children:n||""})]})},W=n(285),M=n(327),V=n(349),D=n(329),L=n(330),Y=n(331),Z=n(144),$=n.n(Z),K=n(146),X=n.n(K),ee=n(14),te=n(12),ne=function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,null,[{key:"getRooms",value:function(){var t=Object(B.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.apiUrl,{method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(n)}});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getRoomById",value:function(){var t=Object(B.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n),{method:"GET",mode:"cors"});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"createRoom",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.apiUrl,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(n)});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"changeRoomCollection",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r,a){var c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)});case 3:return c=t.sent,t.next=6,c.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"changeRoomName",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r,a){var c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)});case 3:return c=t.sent,t.next=6,c.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"pushActiveQuestion",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r,a){var c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)});case 3:return c=t.sent,t.next=6,c.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"updateGuests",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n,"/guests"),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getActiveQuestion",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n,"/activequestion?email=").concat(r),{method:"GET",mode:"cors"});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"postAnswer",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r,a,c){var s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n,"/answers"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:r,answer:a,email:c})});case 3:return s=t.sent,t.next=6,s.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"getGuestSummary",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n,"/answers?email=").concat(r),{method:"GET",mode:"cors"});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getMentorSummary",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n,"/summary"),{method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(r)}});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"closeRoom",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n,"/close"),{method:"PATCH",mode:"cors",Authorization:"Bearer ".concat(r)});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"handleError",value:function(e){console.log(e)}}]),e}();ne.apiUrl="https://camp-hackathon-2021-backend.herokuapp.com/api/rooms";var re=function(e){var t=e.question,n=e.roomId,a=Object(r.useContext)(d).token,c=void 0!==t.timeForAnswer?t.timeForAnswer:10,s=Object(r.useState)(c),o=Object(u.a)(s,2),i=o[0],j=o[1],m=Object(r.useState)(c),h=Object(u.a)(m,2),p=h[0],b=h[1],x=Object(r.useState)(!1),O=Object(u.a)(x,2),f=O[0],v=O[1],g=Object(r.useState)(!1),w=Object(u.a)(g,2),y=w[0],C=w[1];Object(r.useEffect)((function(){var e;return f&&(e=setInterval((function(){j(p),b((function(e){return e-1}))}),1e3)),-1===p&&(v(!1),C(!0)),function(){return clearInterval(e)}}),[f,p]);var k=function(){f||ne.pushActiveQuestion(n,{selectedQuestionId:t._id},a),v(!0)};return Object(l.jsxs)(W.a,{disabled:y,button:!0,onClick:k,children:[Object(l.jsx)(M.a,{children:Object(l.jsx)($.a,{})}),Object(l.jsx)(V.a,{title:"Ask this question",children:Object(l.jsx)(D.a,{primary:"".concat(t.text)})}),i,Object(l.jsx)(L.a,{children:Object(l.jsx)(V.a,{title:"Ask this question",children:Object(l.jsx)(Y.a,{disabled:y,edge:"end","aria-label":"delete",onClick:k,children:Object(l.jsx)(X.a,{})})})})]})},ae=function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,null,[{key:"login",value:function(){var t=Object(B.a)(P.a.mark((function t(n){var r,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.apiUrl+"/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",{token:a.token,profile:a.user});case 10:t.prev=10,t.t0=t.catch(0),e.handleError(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"register",value:function(){var t=Object(B.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.apiUrl+"/register",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"handleError",value:function(e){console.log(e)}}]),e}();ae.apiUrl="https://camp-hackathon-2021-backend.herokuapp.com/api/users";var ce=Object(p.a)((function(e){return{smallPadding:{padding:"10px 10px 10px 0"}}})),se=function(){var e=ce(),t=Object(k.g)(),n=Object(r.useContext)(d),a=n.setNewToken,c=n.setNewProfile,s=Object(r.useState)(""),o=Object(u.a)(s,2),i=o[0],j=o[1],m=Object(r.useState)(!1),h=Object(u.a)(m,2),p=h[0],b=h[1],x=R.b({email:R.c("Enter email").email("Enter a valid email").required("Email is required"),password:R.c("Enter your password").required("Password is required").min(8,"Password should be of minimum 8 characters length").max(20,"Password can't be longer than 20 characters.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character")}),O=function(){var e=Object(B.a)(P.a.mark((function e(n,r){var s,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.setSubmitting,j(""),p||b((function(){return!0})),e.next=5,ae.login(n);case 5:(o=e.sent).error?(401===o.statusCode?j("Invalid credentials"):j("Something went wrong"),s(!1)):(c(o.profile),a(o.token),s(!1),t.push("/profile")),b((function(){return!1}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=Object(U.a)({initialValues:{email:"",password:""},validationSchema:x,onSubmit:O});return Object(l.jsx)("form",{className:"login",onSubmit:v.handleSubmit,children:Object(l.jsxs)(Q.a,{children:[Object(l.jsx)(J,{errors:v.errors.email,id:"email",name:"email",value:v.values.email,onChange:v.handleChange}),Object(l.jsx)(H,{errors:v.errors.password,id:"password",name:"password",value:v.values.password,onChange:v.handleChange}),Object(l.jsx)("div",{id:"formError",children:i}),Object(l.jsxs)("div",{className:e.smallPadding,children:[Object(l.jsx)(f.a,{variant:"outlined",color:"primary",type:"submit",disabled:v.isSubmitting,children:"Login"}),p&&Object(l.jsx)(F.a,{size:24})]})]})})},oe=function(e){var t=e.id,n=e.name,r=e.errors,a=e.onChange;return Object(l.jsxs)(T.a,{fullWidth:!0,children:[Object(l.jsx)(_.a,{htmlFor:t,children:"Name"}),Object(l.jsx)(z.a,{error:!!r,id:t,name:n,onChange:function(e){return a(e)},"aria-describedby":"email-input-field"}),Object(l.jsx)(G.a,{children:r||""})]})},ie=Object(p.a)((function(e){return{smallPadding:{padding:"10px 10px 10px 0"}}})),ue=function(e){var t=e.setAction,n=ie(),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(!1),d=Object(u.a)(i,2),j=d[0],m=d[1],h=R.b({email:R.c("Enter email").email("Enter a valid email").required("Email is required"),password:R.c("Enter your password").required("Password is required").min(8,"Password should be of minimum 8 characters length").max(20,"Password can't be longer than 20 characters.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character"),name:R.c("Enter your name").required("Name is required")}),p=function(){var e=Object(B.a)(P.a.mark((function e(n,r){var a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.setSubmitting,o(""),j||m((function(){return!0})),e.next=5,ae.register(n);case 5:(c=e.sent).error?(401===c.statusCode?o("Invalid credentials"):o("Something went wrong"),a(!1)):(a(!1),o("Account successfully created!"),setTimeout((function(){return t("login")}),2e3)),m((function(){return!1}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=Object(U.a)({initialValues:{email:"",password:""},validationSchema:h,onSubmit:p});return Object(l.jsx)("form",{className:"register",onSubmit:b.handleSubmit,children:Object(l.jsxs)(Q.a,{children:[Object(l.jsx)(oe,{errors:b.errors.name,id:"name",name:"name",value:b.values.name,onChange:b.handleChange}),Object(l.jsx)(J,{errors:b.errors.email,id:"email",name:"email",value:b.values.email,onChange:b.handleChange}),Object(l.jsx)(H,{errors:b.errors.password,id:"password",name:"password",value:b.values.password,onChange:b.handleChange}),Object(l.jsx)("div",{id:"formError",children:s}),Object(l.jsxs)("div",{className:n.smallPadding,children:[Object(l.jsx)(f.a,{variant:"outlined",color:"primary",type:"submit",disabled:b.isSubmitting,children:"Register"}),j&&Object(l.jsx)(F.a,{size:24})]})]})})},le=n.p+"static/media/homeImg.05c2a606.jpg",de=Object(p.a)((function(e){return{loginDiv:{width:"80%",margin:"auto"},loginImg:{border:"6px solid #91C43B",borderRadius:"10%",marginTop:"25px"},action:{marginTop:"30px"},paddingBot:{marginTop:"80px",paddingBottom:"30px"},paddingBotBig:{marginTop:"40px",marginBottom:"60px"}}})),je=function(){var e=de(),t=Object(r.useState)("login"),n=Object(u.a)(t,2),a=n[0],c=n[1];Object(k.g)();return Object(l.jsxs)(A.a,{container:!0,spacing:5,alignItems:"center",style:{margin:0,width:"100%"},children:[Object(l.jsx)(A.a,{item:!0,md:6,xs:12,children:Object(l.jsxs)("div",{className:e.loginDiv,children:[Object(l.jsx)(O.a,{className:e.paddingBot,variant:"h3",children:"Engagement Tool"}),Object(l.jsxs)(O.a,{className:e.paddingBotBig,variant:"h5",children:["Build better engagement of your remote teams with ",Object(l.jsx)("b",{children:"Questio"}),"! Check out how simple it is."]}),"login"===a?Object(l.jsx)(se,{}):Object(l.jsx)(ue,{setAction:c}),Object(l.jsx)("div",{className:e.action,children:Object(l.jsx)(T.a,{children:Object(l.jsxs)(E.a,{value:a,onChange:function(e){c(e.target.value)},children:[Object(l.jsx)(I.a,{value:"login",children:"Log in"}),Object(l.jsx)(I.a,{value:"register",children:"Register"})]})})})]})}),Object(l.jsx)(A.a,{item:!0,md:6,xs:12,children:Object(l.jsxs)("div",{className:e.loginDiv,children:[Object(l.jsx)("img",{src:le,alt:"homeImage",width:"95%",className:e.loginImg}),Object(l.jsx)(O.a,{className:e.paddingBotBig,align:"center",variant:"h5",children:'"If a man knows not which port he sails, no wind is favorable" - Seneca'})]})})]})},me=n(154),he=n(20),pe=n(336),be=n(340),xe=function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,null,[{key:"getAllCollections",value:function(){var t=Object(B.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.apiUrl,{method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(n)}});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCollectionById",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n),{method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(r)}});case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,t.abrupt("return",{id:c._id,name:c.name,questions:c.questions});case 10:t.prev=10,t.t0=t.catch(0),e.handleError(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"createCollection",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r){var a,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:n},t.prev=1,t.next=4,fetch(e.apiUrl,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 4:return c=t.sent,t.next=7,c.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),e.handleError(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateCollectionName",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r,a){var c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.apiUrl,"/").concat(n),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)});case 3:return c=t.sent,t.next=6,c.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),e.handleError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"addQuestionToCollection",value:function(){var t=Object(B.a)(P.a.mark((function t(n,r,a){var c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n,r,a),t.prev=1,t.next=4,fetch("".concat(e.apiUrl,"/").concat(n),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({question:r})});case 4:return c=t.sent,t.next=7,c.json();case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(1),e.handleError(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"handleError",value:function(e){console.log(e)}}]),e}();xe.apiUrl="https://camp-hackathon-2021-backend.herokuapp.com/api/collections";var Oe=n(148),fe=n.n(Oe),ve=Object(p.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),ge=n(291),we=n(338),ye=n(288);function Ce(e){var t=e.children,n=e.open,r=e.toggleOpen,a=ve();return Object(l.jsx)(ge.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:n,onClose:r,closeAfterTransition:!0,BackdropComponent:we.a,BackdropProps:{timeout:500},children:Object(l.jsx)(ye.a,{in:n,children:Object(l.jsx)(me.a,{xs:12,children:t})})})}var ke=n(64),Se=n.n(ke),Ne=n(339),Ae=n(147),Te=n.n(Ae),Ee=Object(p.a)((function(){return{root:{display:"flex",flexWrap:"nowrap","& > *":{margin:"0px 7px"}},numberTextField:{maxWidth:"50px"},answer:{}}})),Ie=function(e){var t=e.question,n=e.updateQuestion,r=Ee(),a=R.b({text:R.c().required("Question is required"),answer0:R.c().required("At lest one answer is required"),answer1:R.c(),answer2:R.c(),answer3:R.c(),correctAnswer:R.a().required("You need to pass index of correct answer").min(1,"Index can't be smaller than 1").max(4,"Index can't be bigger than 4"),timeForAnswer:R.a().min(15,"Time can't be shorter than 15 seconds").max(120,"Time can't be longer than 120 seconds")}),c=function(){var e=Object(B.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=Object(U.a)({initialValues:{_id:t._id,text:t.text,answer0:t.answers[0]||"",answer1:t.answers[1]||"",answer2:t.answers[2]||"",answer3:t.answers[3]||"",correctAnswer:t.correctAnswer?t.correctAnswer+1:1,timeForAnswer:t.timeForAnswer},validationSchema:a,onSubmit:c});return Object(l.jsx)(W.a,{children:Object(l.jsxs)("form",{className:r.root,onSubmit:s.handleSubmit,children:[Object(l.jsx)(Ne.a,{onChange:s.handleChange,name:"text",id:"question",label:"Question",value:s.values.text}),Object(l.jsx)(Ne.a,{onChange:s.handleChange,name:"timeForAnswer",id:"timeForAnswer",type:"number",label:"Time",className:r.numberTextField,value:s.values.timeForAnswer}),[0,1,2,3].map((function(e){return Object(l.jsx)(Ne.a,{id:"answer",label:"Answer: ".concat(e+1),name:"answer".concat(e),value:s.values["answer".concat(e)],className:r.answer,onChange:s.handleChange},e)})),Object(l.jsx)(Ne.a,{type:"number",onChange:s.handleChange,name:"correctAnswer",id:"correctAnswer",label:"Correct",className:r.numberTextField,value:s.values.correctAnswer}),Object(l.jsx)(Y.a,{color:"primary",edge:"end","aria-label":"edit",value:t._id,onClick:s.handleSubmit,children:Object(l.jsx)(Te.a,{})}),Object(l.jsx)("div",{id:"formError",children:s.errors[0]})]})},t._id)},qe=Object(p.a)((function(e){return{smallPadding:{padding:"20px"}}})),Pe=function(e){var t=e.questionsArray,n=e.updateQuestion,r=e.addQuestion,a=qe();return Object(l.jsx)(A.a,{item:!0,xs:12,children:Object(l.jsxs)(pe.a,{children:[Object(l.jsx)(O.a,{className:a.smallPadding,variant:"h5",children:"Collection"}),t.length?t.map((function(e){return Object(l.jsx)(Ie,{question:e,updateQuestion:n},e._id)})):"This collection is empty",Object(l.jsx)(Y.a,{onClick:r,children:Object(l.jsx)(Se.a,{})})]})})},Be=n(335),Qe=function(e){var t=e.open,n=e.handleClosePopup,r=e.anchorEl,a=e.children;return Object(l.jsx)(Be.a,{open:t,anchorEl:r,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:a})},Fe=R.b({collectionName:R.c("Enter room name").required("Name of room is required")}),Re=function(e){var t=e.handleClosePopup,n=e.addCollection,a=Object(r.useContext)(d).token,c=Object(r.useState)(""),s=Object(u.a)(c,2),o=s[0],i=s[1],j=Object(r.useState)(!1),m=Object(u.a)(j,2),h=m[0],p=m[1],b=function(){var e=Object(B.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),e.next=3,xe.createCollection(t.collectionName,a);case 3:(r=e.sent).error?(p(!1),i(r.error)):(n(r),p(!0),x.values.roomName="",x.values.collectionsSelect="");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(U.a)({initialValues:{collectionName:""},validationSchema:Fe,onSubmit:b});return Object(l.jsx)("form",{noValidate:!0,autoComplete:"off",className:"createCollection",onSubmit:x.handleSubmit,children:Object(l.jsxs)(Q.a,{children:[Object(l.jsx)(Ne.a,{placeholder:"Collection name",name:"collectionName",id:"collectionName",label:"Collection name",value:x.values.CollectionName,onChange:x.handleChange,helperText:x.touched.email&&x.errors.email}),Object(l.jsx)(G.a,{error:!0,children:o||x.errors[0]}),h?Object(l.jsx)(f.a,{onClick:t,children:"Back"}):Object(l.jsx)(f.a,{type:"submit",children:"Submit"})]})})},Ue=Object(p.a)((function(){return{buttonModal:{display:"grid",justifyItems:"center"}}})),_e=function(){var e=Object(r.useContext)(d).token,t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(u.a)(s,2),i=o[0],j=o[1],m=Object(r.useState)([]),h=Object(u.a)(m,2),p=h[0],b=h[1],x=Object(r.useState)(""),v=Object(u.a)(x,2),g=v[0],w=v[1],y=Object(r.useState)(null),C=Object(u.a)(y,2),k=C[0],S=C[1],N=Ue(),A=function(){i&&w(""),j((function(e){return!e}))};function T(){return(T=Object(B.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:(n=e.sent).error||c(n.reverse());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=e.currentTarget.value,n=a.filter((function(e){return e._id===t}))[0];w(t),b(n.questions),A()}Object(r.useEffect)((function(){!function(e){T.apply(this,arguments)}(xe.getAllCollections(e))}),[e]);var I=function(){S(null)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Ce,{toggleOpen:A,open:i,children:Object(l.jsx)(Pe,{updateQuestion:function(t){var n;(n=t._id,a.find((function(e){return e._id===g})).questions.find((function(e){return e._id===n}))).new?xe.addQuestionToCollection(g,function(e){var t=e.id,n=e.text,r=e.correctAnswer,a=e.timeForAnswer,c=e.answer0,s=e.answer1,o=e.answer2,i=e.answer3;return{_id:t,text:n,correctAnswer:--r,timeForAnswer:a,answers:[c,s,o,i]}}(t),e):console.log(t)},questionsArray:p,addQuestion:function(){var e=Object(he.a)(a);e.find((function(e){return e._id===g})).questions.push({new:!0,_id:Date.now(),text:"",correctAnswer:0,timeForAnswer:60,answers:["","","",""]}),c(e)}})}),Object(l.jsxs)(pe.a,{children:[Object(l.jsx)(O.a,{variant:"h6",children:"Collections of Questions"}),Object(l.jsx)(be.a,{}),a?a.map((function(e){return Object(l.jsxs)(W.a,{children:[Object(l.jsx)(D.a,{primary:e.name}),Object(l.jsx)(L.a,{children:Object(l.jsx)(Y.a,{color:"primary",edge:"end","aria-label":"edit",value:e._id,onClick:E,children:Object(l.jsx)(fe.a,{})})})]},e._id)})):Object(l.jsx)(F.a,{}),Object(l.jsx)("div",{className:N.buttonModal,children:Object(l.jsx)(f.a,{variant:"contained",color:"secondary",startIcon:Object(l.jsx)(Se.a,{}),onClick:function(e){console.log(e.currentTarget),S(e.currentTarget)},children:"Add new Collection"})}),Object(l.jsx)(Qe,{anchorEl:k,handleClosePopup:I,open:!!k,children:Object(l.jsx)(Re,{handleClosePopup:I,addCollection:function(e){c([].concat(Object(he.a)(a),[e]))}})})]})]})},ze=R.b({roomName:R.c("Enter room name").required("Name of room is required")}),Ge=Object(p.a)((function(){return{padding:{padding:"15px"}}})),Je=function(e){var t=e.handleClosePopup,n=Ge(),a=Object(r.useContext)(d).token,c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],i=s[1],j=Object(r.useState)(""),m=Object(u.a)(j,2),h=m[0],p=m[1],b=function(){var e=Object(B.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(Object(l.jsx)(F.a,{})),e.next=3,ne.createRoom({name:t.roomName,questionsCollectionId:t.collectionsSelect},a);case 3:(n=e.sent).error?p(n.error):(p("Room successfully created!"),O.values.roomName="",O.values.collectionsSelect="");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(){return(x=Object(B.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:(n=e.sent).error?p("Something went wrong"):i(n.reverse());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=Object(U.a)({initialValues:{roomName:"",collectionsSelect:""},validationSchema:ze,onSubmit:b});return Object(r.useEffect)((function(){!function(e){x.apply(this,arguments)}(xe.getAllCollections(a))}),[a]),Object(l.jsx)("form",{noValidate:!0,autoComplete:"off",className:"createRoom",onSubmit:O.handleSubmit,children:Object(l.jsxs)(Q.a,{className:n.padding,children:[Object(l.jsx)(Ne.a,{placeholder:"Room name",name:"roomName",id:"roomName",label:"Room name",value:O.values.roomName,onChange:O.handleChange,helperText:O.touched.email&&O.errors.email}),Object(l.jsxs)(T.a,{children:[Object(l.jsx)(_.a,{children:"Collections"}),Object(l.jsxs)(E.a,{labelId:"collectionsSelect",id:"collectionsSelect",value:O.values.collectionsSelect,name:"collectionsSelect",onChange:O.handleChange,children:[Object(l.jsx)(I.a,{value:"None",children:Object(l.jsx)("em",{children:"None"})}),o.map((function(e){var t=e.name,n=e._id;return Object(l.jsx)(I.a,{value:n,children:t},n)}))]})]}),Object(l.jsx)(G.a,{error:!0,children:h}),"Room successfully created!"!==h?Object(l.jsx)(f.a,{type:"submit",children:"Submit"}):Object(l.jsx)(f.a,{onClick:t,children:"Back"})]})})},He=function(e){var t=e.open,n=e.handleClosePopup,r=e.anchorEl;return Object(l.jsx)(Be.a,{open:t,anchorEl:r,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:Object(l.jsx)(Je,{handleClosePopup:n})})},We=n(151),Me=n.n(We),Ve=n(150),De=n.n(Ve),Le=n(149),Ye=n.n(Le),Ze=Object(p.a)((function(){return{buttonModal:{display:"grid",justifyItems:"center",paddingTop:"20px"}}})),$e=function(){var e=Object(r.useContext)(d).token,t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!0),o=Object(u.a)(s,2),i=o[0],j=o[1],m=Object(r.useState)(null),h=Object(u.a)(m,2),p=h[0],b=h[1],x=Object(C.a)("(min-width:600px)"),v=Object(k.g)(),g=Ze();Object(r.useEffect)((function(){(function(){var t=Object(B.a)(P.a.mark((function t(){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,ne.getRooms(e);case 3:(n=t.sent).error||c(n.reverse()),j(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(ne.getRooms(e))}),[e]);var w=Boolean(p),y=a.map((function(e){var t=new Date(e.createdAt).toLocaleString();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(W.a,{children:[Object(l.jsx)(D.a,{primary:e.name,secondary:t}),Object(l.jsxs)(L.a,{children:[Object(l.jsx)(f.a,{variant:"contained",color:"primary",startIcon:Object(l.jsx)(De.a,{}),onClick:function(){return t=e._id,void Ye()("https://lukaszdutka.github.io/coders-camp-hackathon-2021-frontend#/".concat(t));var t},children:x&&"Copy link"}),Object(l.jsx)(f.a,{variant:"contained",color:"primary",startIcon:Object(l.jsx)(Me.a,{}),onClick:function(){return t=e._id,void v.push("/room/".concat(t));var t},children:x&&"Enter"})]})]},e._id)})}));return Object(l.jsxs)(pe.a,{children:[Object(l.jsx)(O.a,{variant:"h6",children:"Rooms"}),Object(l.jsx)(be.a,{}),i?Object(l.jsx)(F.a,{}):y,Object(l.jsx)("div",{className:g.buttonModal,children:Object(l.jsx)(f.a,{variant:"contained",color:"secondary",startIcon:Object(l.jsx)(Se.a,{}),onClick:function(e){b(e.currentTarget)},children:"Add a new room"})}),Object(l.jsx)(He,{anchorEl:p,handleClosePopup:function(){b(null)},open:w})]})},Ke=Object(p.a)((function(e){return{padding:{padding:"15px"}}})),Xe=function(){var e=Ke();return Object(l.jsxs)(A.a,{container:!0,className:e.padding,spacing:5,children:[Object(l.jsx)(A.a,{className:e.padding,item:!0,xs:12,md:6,children:Object(l.jsx)(me.a,{className:e.padding,children:Object(l.jsx)($e,{})})}),Object(l.jsx)(A.a,{className:e.padding,item:!0,xs:12,md:6,children:Object(l.jsx)(me.a,{className:e.padding,children:Object(l.jsx)(_e,{})})})]})},et=R.b({email:R.c("Enter your e-mail").required("E-mail is required"),name:R.c("Enter your name").required("Name is required")}),tt=function(e){var t=e.roomId,n=e.setGuestEmail,a=e.setGuestName,c=Object(r.useState)(""),s=Object(u.a)(c,2),o=s[0],i=s[1],d=function(){var e=Object(B.a)(P.a.mark((function e(r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Object(l.jsx)(F.a,{})),e.next=3,ne.updateGuests(t,{email:r.email,name:r.name});case 3:e.sent.error?i("Something went wrong"):(i("You successfully entered the room!"),n(r.email),a(r.name),j.values.email="",j.values.name="");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=Object(U.a)({initialValues:{email:"",name:""},validationSchema:et,onSubmit:d});return Object(l.jsx)("form",{noValidate:!0,autoComplete:"off",className:"createRoom",onSubmit:j.handleSubmit,children:Object(l.jsxs)(Q.a,{children:[Object(l.jsx)(Ne.a,{placeholder:"Your e-mail",name:"email",id:"email",label:"Your e-mail",value:j.values.email,onChange:j.handleChange,helperText:j.touched.email&&j.errors.email}),Object(l.jsx)(Ne.a,{placeholder:"Your name",name:"name",id:"name",label:"Your name",value:j.values.name,onChange:j.handleChange,helperText:j.touched.email&&j.errors.email}),Object(l.jsx)(G.a,{error:!0,children:o}),Object(l.jsx)(f.a,{type:"submit",children:"Submit"})]})})},nt=Object(p.a)((function(e){return{guestQuestionItemsContainer:{padding:"2rem",minWidth:"40vw",lineHeight:"3rem",textAlign:"center"},guestQuestionItemAnswer:{display:"flex",flexDirection:"column",flexBasis:"100%",justifyContent:"center",margin:"2rem",padding:"2rem",textAlign:"center"},guestQuestionItemAnswerButton:{display:"flex",flexDirection:"column",padding:"0.5rem",textAlign:"center"}}})),rt=function(e){var t=e.question.activeQuestion,n=t._id,r=t.answers,a=t.text,c=(t.timeForAnswer,t.updatedAt,e.setActiveQuestion,e.roomId),s=e.email,o=nt(),i=function(){var e=Object(B.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.postAnswer(c,n,t,s);case 2:r=e.sent,console.log(c,n,t,s),r.error&&console.log(r.error),r.error||console.log(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=r.map((function(e,t){return Object(l.jsx)("div",{className:o.guestQuestionItemAnswerButton,children:Object(l.jsx)(f.a,{variant:"contained",color:"secondary",onClick:function(){return i(t)},children:e})})}));return Object(l.jsx)(me.a,{children:Object(l.jsxs)("div",{className:o.guestQuestionItemsContainer,children:[Object(l.jsx)(O.a,{variant:"h6",children:a}),Object(l.jsx)("div",{className:o.guestQuestionItemAnswer,children:r&&u})]})})},at=Object(p.a)((function(e){return{guestBeginningFormContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},guestBeginningForm:{padding:"3rem",flexBasis:"40%"},guestPaperContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem",borderRadius:"10%",marginTop:"25px"},guestPaperInfoContainer:{padding:"2rem",minWidth:"400px",lineHeight:"3rem",textAlign:"center"},guestQuestionContainer:{display:"flex",justifyContent:"center",alignItems:"center",minWidth:"80%",padding:"2rem",lineHeight:"3rem",textAlign:"center"}}})),ct=function(){var e=at(),t=Object(k.h)().id,n=Object(r.useState)(null),a=Object(u.a)(n,2),c=(a[0],a[1],Object(r.useState)("")),s=Object(u.a)(c,2),o=s[0],i=s[1],d=Object(r.useState)(""),j=Object(u.a)(d,2),m=j[0],h=j[1],p=Object(r.useState)({}),b=Object(u.a)(p,2),x=b[0],f=b[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(B.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.getActiveQuestion(t,m);case 2:(n=e.sent).error||f(n),!n.error&&n||f({});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(m){e();var n=setInterval((function(){return e()}),1e3);return function(){return clearInterval(n)}}}),[m,t]),Object(l.jsx)("div",{className:e.guestBeginningFormContainer,children:Object(l.jsxs)("div",{className:e.guestBeginningForm,children:[o||m?Object(l.jsx)("div",{className:e.guestPaperContainer,children:Object(l.jsx)(me.a,{children:Object(l.jsxs)("div",{className:e.guestPaperInfoContainer,children:[Object(l.jsxs)(O.a,{variant:"h5",children:["Welcome ",o]}),Object(l.jsx)(O.a,{variant:"body1",children:"Please wait for questions"})]})})}):Object(l.jsx)(tt,{roomId:t,setGuestEmail:h,setGuestName:i}),x.activeQuestion&&o&&m&&Object(l.jsx)("div",{className:e.guestQuestionContainer,children:Object(l.jsx)(rt,{question:x,setActiveQuestion:f,roomId:t,email:m})})]})})},st=function(e){var t=e.path,n=e.exact,a=void 0!==n&&n,c=e.component;return Object(r.useContext)(d).token?Object(l.jsx)(k.b,{path:t,exact:a,component:c}):Object(l.jsx)(k.a,{to:"/"})},ot=n(341),it=Object(p.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)},smallPadding:{padding:"10px"}}})),ut=function(){var e=Object(k.h)().id,t=Object(k.g)(),n=it(),a=Object(r.useContext)(d).token,c=Object(r.useState)({}),s=Object(u.a)(c,2),o=s[0],i=s[1],j=Object(r.useState)({}),m=Object(u.a)(j,2),h=m[0],p=m[1],b=Object(r.useState)([]),x=Object(u.a)(b,2),v=x[0],g=x[1];Object(r.useEffect)((function(){var t=setInterval(Object(B.a)(P.a.mark((function n(){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("refresh guests with: "+e),n.next=3,ne.getRoomById(e,a);case 3:return r=n.sent,g(r.guests),n.abrupt("return",(function(){console.log("Clear interval: "+t+" , "+e),clearInterval(t)}));case 6:case"end":return n.stop()}}),n)}))),2e3);return function(){clearInterval(t)}}),[e,a]),Object(r.useEffect)((function(){(function(){var t=Object(B.a)(P.a.mark((function t(){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.getRoomById(e,a);case 2:return n=t.sent,i(n),p(n.questionsCollectionId),g(n.guests),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,a]);return Object(l.jsxs)(ot.a,{maxWidth:"lg",className:n.smallPadding,children:[Object(l.jsxs)(A.a,{container:!0,spacing:2,children:[Object(l.jsx)(A.a,{item:!0,xs:8,children:Object(l.jsxs)(O.a,{variant:"h4",className:n.smallPadding,children:["Room ",o.name]})}),Object(l.jsx)(A.a,{item:!0,xs:4,children:Object(l.jsx)(f.a,{style:{marginTop:"10px",marginLeft:"33%"},variant:"outlined",color:"primary",onClick:function(){ne.closeRoom(e,a),t.push("/summary/".concat(e))},children:"Close room"})})]}),Object(l.jsxs)(A.a,{container:!0,spacing:2,children:[Object(l.jsx)(A.a,{item:!0,xs:8,children:Object(l.jsxs)(me.a,{children:[Object(l.jsxs)(O.a,{variant:"h6",className:n.smallPadding,children:["Questions of ",h.name]}),Object(l.jsx)(be.a,{}),Object(l.jsx)("div",{className:n.demo,children:Object(l.jsx)(pe.a,{children:h.questions&&0!==h.questions.length?h.questions.map((function(t){return Object(l.jsx)(re,{question:t,roomId:e},t._id)})):Object(l.jsx)(W.a,{children:" There are no questions "})})})]})}),Object(l.jsx)(A.a,{item:!0,xs:4,children:Object(l.jsxs)(me.a,{children:[Object(l.jsx)(O.a,{variant:"h6",className:n.smallPadding,children:"Attendants"}),Object(l.jsx)(be.a,{}),Object(l.jsx)("div",{className:n.demo,children:Object(l.jsx)(pe.a,{children:v&&0!==v.length?v.map((function(e){return Object(l.jsx)(W.a,{children:Object(l.jsx)(D.a,{secondary:e.email,children:Object(l.jsx)(O.a,{variant:"h6",children:e.name})})},e.email)})):Object(l.jsx)(W.a,{children:" There are no guests"})})})]})})]})]})},lt=n(342),dt=n(343),jt=n(344),mt=n(345),ht=n(346),pt=n(347),bt=Object(p.a)((function(e){return{padding:{padding:"15px"},margin:{margin:"15px 15px 15px 0"}}})),xt=function(){var e=Object(k.g)(),t=bt(),n=Object(k.h)().id,a=Object(r.useContext)(d).token,c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],i=s[1];Object(r.useEffect)((function(){(function(){var e=Object(B.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.getMentorSummary(n,a);case 2:(t=e.sent).questions&&i(t.questions);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,a]);return Object(l.jsxs)(A.a,{container:!0,className:t.padding,spacing:5,children:[Object(l.jsx)(A.a,{item:!0,xs:3}),Object(l.jsx)(A.a,{className:t.padding,item:!0,xs:6,children:Object(l.jsxs)(me.a,{className:t.padding,children:[Object(l.jsx)(O.a,{variant:"h4",children:"Summary"}),Object(l.jsx)(jt.a,{component:me.a,children:Object(l.jsxs)(mt.a,{"aria-label":"simple table",children:[Object(l.jsx)(ht.a,{children:Object(l.jsxs)(lt.a,{children:[Object(l.jsx)(dt.a,{children:"Question"}),Object(l.jsx)(dt.a,{align:"right",children:"Correct Answer"}),Object(l.jsx)(dt.a,{align:"right",children:" correct / all"})]})}),Object(l.jsx)(pt.a,{children:o.map((function(e,t){return Object(l.jsxs)(lt.a,{children:[Object(l.jsx)(dt.a,{component:"th",scope:"row",children:e.text}),Object(l.jsx)(dt.a,{align:"right",children:e.correctAnswer}),Object(l.jsxs)(dt.a,{align:"right",children:[e.correctAnswers," / ",e.allAnswers]})]},t)}))})]})}),Object(l.jsx)(f.a,{className:t.margin,color:"primary",variant:"outlined",onClick:function(){e.push("/")},children:"Back"})]})}),Object(l.jsx)(A.a,{item:!0,xs:3})]})},Ot=Object(p.a)((function(e){return{rootMain:{flexGrow:1}}})),ft=function(){var e=Object(r.useContext)(d).token,t=Ot();return Object(l.jsx)("main",{className:t.rootMain,children:Object(l.jsxs)(k.d,{children:[Object(l.jsx)(k.b,{exact:!0,path:"/",render:function(){return e?Object(l.jsx)(Xe,{}):Object(l.jsx)(je,{})}}),Object(l.jsx)(k.b,{exact:!0,path:"/guest/:id",render:function(){return e?Object(l.jsx)(Xe,{}):Object(l.jsx)(ct,{})}}),Object(l.jsx)(st,{exact:!0,path:"/profile",component:Xe}),Object(l.jsx)(st,{path:"/room/:id",component:ut}),Object(l.jsx)(st,{path:"/summary/:id",component:xt})]})})},vt=Object(p.a)((function(e){return{rootApp:{minHeight:"100vh",width:"100vw",display:"flex",flexDirection:"column"}}})),gt=function(){var e=vt();return Object(l.jsx)(j,{children:Object(l.jsx)(o.a,{theme:h,children:Object(l.jsx)(i.a,{basename:"coders-camp-hackathon-2021-frontend",children:Object(l.jsxs)("div",{className:e.rootApp,children:[Object(l.jsx)(N,{}),Object(l.jsx)(ft,{})]})})})})};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(gt,{})}),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.26c67a29.chunk.js.map